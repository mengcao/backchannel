<% if collection.where(:user_id => 1).count == 0 %>
    <td><%= button_to 'vote',:controller => 'votes',:action => 'create',:post_id => post.id %></td>
<% end %>
<% if collection.where(:user_id => 1).count != 0 %>
    <td><%= button_to 'un-vote', Vote.where(:votable_id => post.id).where(:user_id => 1).first,:method => :delete %></td>
<% end %>